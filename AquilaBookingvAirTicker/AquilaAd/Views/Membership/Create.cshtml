@model ShareHolderCore.Domain.Model.Membership
@{
    ViewBag.Title = "Tạo tài khoản";
}
<link href="../../Content/jquery-ui.css" rel="stylesheet" type="text/css" />
    <script src="../../Scripts/jquery-ui-1.8.20.min.js" type="text/javascript"></script> @*load date time picker*@

<div id="content">

            <h2><span>Thành viên : Tạo mới</span></h2>

            <!-- tab -->
            <ul id="tab">
                <li><a href="#" title="Property 100 (rows)">Property 100 (rows)</a></li>
                <li class="Active">
                    <span>New property</span>
                    <a href="#" title="Close" class="Close">Close</a>
                </li>
            </ul>
            <!-- tab.end -->

            <!-- panel -->
            <div class="Panel">

                <!-- functions -->
                <ul class="Functions">
                    <li><a href="#" id="submit_link">Save</a>
                    @*<li>@Html.ActionLink("Save", "Save", "Home", new { actionpage = "Save", idhotel = "" }, null)</li>*@
                    <li>@Html.ActionLink("Save & New", "Save", "Home", new { actionpage = "SaveNew", idhotel = "" }, null)</li>
                    <li>@Html.ActionLink("Cancel", "Cancel", "Availability", new { actionpage = "Cancel", idhotel = "" }, null)</li>
                    <li>
                        <span>Actions</span>
                        <ul>
                            <li><a href="#" title="Approve property">Approve property</a></li>
                            <li><a href="#" title="View facilities">View facilities</a></li>
                            <li>
                                <span>Translation</span>
                                <ul>
                                    <li><a href="#" title="Tiếng Việt">Tiếng Việt</a></li>
                                    <li><a href="#" title="French">French</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- functions.end -->

            </div>
            <!-- panel.end -->

            <!-- subtab -->
            <ul id="subtab">
                <li class="Active"><span>General Info</span></li>
                <li><a href="#" title="Detail Info">Detail Info</a></li>
            </ul>
            <!-- subtab.end -->

            <!-- mainContent -->
            
            <div id="mainContent">
             @using (Html.BeginForm("Create", "Membership", FormMethod.Post, new { id = "Submitform" }))
             {
                 @Html.ValidationSummary()
                <fieldset>
                 <div>                     
                     <input type="hidden" value="@Model.MemberId" id="GetAvailabilityId" name="GetAvailabilityId" />  
                    </div>
                    <div class="Input">
                        <label for="price">Username:</label>
                        
                        @Html.TextBoxFor(m => m.LoginId, new { id = "m.Price", @class = "Medium" })
                    </div>
                    <div class="Input">
                        <label for="price">Password:</label>
                        
                        @Html.TextBoxFor(m => m.Password, new { id = "m.Price", @class = "Medium", type = "Password" })
                        
                    </div>
                      <div class="Input">
                        <label for="price">Tên đầy đủ:</label>
                        
                        @Html.TextBoxFor(m => m.MemberName, new { id = "m.Price", @class = "Medium" })
                    </div>
                       <div class="Input">
                        <label for="price">Số điện thoại:</label>
                        
                        @Html.TextBoxFor(m => m.MobilePIN, new { id = "m.Price", @class = "Medium" })
                    </div>
                      <div class="Input">
                        <label for="price">Địa chỉ:</label>                                                
                        <input type="text" name="AddressMember"  class = "Large"  />
                        
                    </div>
                     <div class="Input">
                        <label for="price">Email:</label>
                        
                        @Html.TextBoxFor(m => m.Email, new { id = "m.Price", @class = "Medium" })
                    </div>
                     
                 
                        <div class="Input">
                        <label for="price">Tài khoản đã bị khóa:</label>
                        
                        @Html.DropDownListFor( m => m.IsLockedOut,  (SelectList)ViewBag.listaccountLock, new { id = "MostView", @class = "Small" })
                        
                    </div>
                     <div class="Input">
                        <label for="price">Loại tài khoản:</label>
                        @Html.DropDownListFor(m => m.Type, (SelectList)ViewBag.listAccountType, new { id = "MostView", @class = "Small" })
                       
                    </div>                 
                     <div class="Input">
                        <label for="price">Ngày tạo:</label>
                         
                        <input type="date" id="CreateDate" name="CreateDate" class="Medium" value='@AquilaAd.Ext.CustomHelpers.parstFormatToYYYY_MM_DD(Model.CreateDate.ToString("yyyyMMdd"))' />
                    </div>
                     <div class="Input">
                        <label for="price">Lần đăng nhập cuối:</label>
                        
                        
                        <input type="date" id="LastLoginDate" name="LastLoginDate" class="Medium" value='@AquilaAd.Ext.CustomHelpers.parstFormatToYYYY_MM_DD(Model.LastLoginDate.ToString("yyyyMMdd"))' />
                    </div>
                      <div class="Input">
                        <label for="price">Lần thay mật khẩu cuối:</label>
                        
                        <input type="date" id="LastPasswordChangedDate" name="LastPasswordChangedDate" class="Medium" value='@AquilaAd.Ext.CustomHelpers.parstFormatToYYYY_MM_DD(Model.LastPasswordChangedDate.ToString("yyyyMMdd"))' />
                    </div>
                        <div class="Input">
                        <label for="price">Ghi chú:</label>
                        
                        @Html.TextBoxFor(m => m.Comment, new { id = "m.Price", @class = "Medium" })
                    </div>
                        <div class="Input">
                        <label for="price">Số lần đang nhập:</label>
                        
                        @Html.TextBoxFor(m => m.LoginCount, new { id = "m.Price", @class = "Medium" })
                    </div>
                   
                </fieldset>                 
             }
                
            </div>
            <!-- mainContent.end -->

            <!-- panel -->
            <div class="Panel">

                <!-- functions -->
                <ul class="Functions">
                    <li><a href="#" id="submit_link">Save</a>
                        
                    </li>
                    <li>@Html.ActionLink("Save & New", "Save", "Availability")</li>
                    <li>@Html.ActionLink("Cancel", "Cancel", "Availability")</li>
                    <li>
                        <span>Actions</span>
                        <ul>
                            <li><a href="#" title="Approve property">Approve property</a></li>
                            <li><a href="#" title="View facilities">View facilities</a></li>
                            <li>
                                <span>Translation</span>
                                <ul>
                                    <li><a href="#" title="Tiếng Việt">Tiếng Việt</a></li>
                                    <li><a href="#" title="French">French</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- functions.end -->

            </div>
            <!-- panel.end -->

        </div>
<script type="text/javascript">
    $(function () {
        $('a#submit_link').click(function () {
            $('form#Submitform').submit();
        });
    });
</script>
 <script type="text/javascript">
     $().ready(function () {
         $('#txtFromDate').datepicker({
             dateFormat: 'dd/mm/yy',
             buttonImage: '@Url.Content("~/Content/themes/calendar.gif")',
             buttonImageOnly: true,
             showOn: 'both',
             minDate: "0"


         });
     });
     $().ready(function () {

         $('#txtToDate').datepicker({
             dateFormat: 'dd/mm/yy',
             buttonImage: '@Url.Content("~/Content/themes/calendar.gif")',
             buttonImageOnly: true,
             showOn: 'both',
             minDate: "0"
         });
     });
                 
    </script>
      <script type="text/javascript">
          $().ready(function () {
              if ($("#txtFromDate").val() != '' || $("#txtToDate").val() != '') {
                  var fromdate = $('#txtFromDate').datepicker("getDate").valueOf();
                  var todate = $('#txtToDate').datepicker("getDate").valueOf();
                  var resual = (todate - fromdate) / 86400000;
                  $('#valueTotalDate').text(resual);
              }
              $('#txtToDate').change(function () {
                  if ($("#txtFromDate").val() != '') {
                      var fromdate = $('#txtFromDate').datepicker("getDate").valueOf();
                      var todate = $('#txtToDate').datepicker("getDate").valueOf();
                      var resual = (todate - fromdate) / 86400000;
                      if (resual < 0) {
                          alert("Ngày về phải lớn hơn ngày đi ");
                          $('#txtToDate').datepicker("setDate", $('#txtFromDate').datepicker("getDate"))
                          $('#valueTotalDate').text(0);
                      }
                      else {
                          $('#valueTotalDate').text(resual);
                      }
                  }
              });
              $('#txtFromDate').change(function () {
                  if ($("#txtToDate").val() != '') {
                      var fromdate = $('#txtFromDate').datepicker("getDate").valueOf();
                      var todate = $('#txtToDate').datepicker("getDate").valueOf();
                      var resual = (todate - fromdate) / 86400000;
                      if (resual < 0) {
                          alert("Ngày về phải lớn hơn ngày đi");
                          $('#txtToDate').datepicker("setDate", $('#txtFromDate').datepicker("getDate"))
                          $('#valueTotalDate').text(0);
                      }
                      else {
                          $('#valueTotalDate').text(resual);
                      }
                  }
              });
          });
               
                 
                </script>